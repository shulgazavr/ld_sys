# Загрузка Linux

## Задания:
1. Попасть в систему без пароля несколькими способами.
2. Установить систему с LVM, после чего переименовать VG.
3. Добавить модуль в initrd.

### Попасть в систему без пароля несколькими способами.
Способ 1. init=/bin/sh:
- Во время отображения меню GRUB, нажать клавишу `e`, тем самым перейдя в режим редактирования параметров загрузки.
- В конце строки, начинающейся с `linux16`, добавить `init=/bin/sh`, нажать `ctrl+x` и дождаться приглашения ко вводу команд интерпретатора.
- Для внесения изменений в файловую систему, её необходимо перемонтировать с правами на запись: `mount -o remount,rw /`
> Примечания:
> - выставление параметра загрузки `init=/bin/sh`, указывает, что оболочка должна быть запущена сразу после загрузки ядра и initrd;
> - можно использовать другую оболочку, доступную в системе, к примеру `/bin/bash`.

Способ 2. rd.break:
- Во время отображения меню GRUB, нажать клавишу `e`, тем самым перейдя в режим редактирования параметров загрузки.
- В конце строки, начинающейся с `linux16`, добавить `rd.break`, нажать `ctrl+x` и дождаться приглашения ко вводу команд интерпретатора.
- Система загружается в аварийном (emergency) режиме (будет загружена с минимальным окружением).
- Для смены пароля необходимо:
  - перемонтировать ФС с правами на запись `mount -o remount,rw /sysroot`;
  - выполнить операцию изменения корневого каталога `chroot /sysroot`;
  - изменить пароль `passwd root`;
  - создать файл 'touch /.autorelabel'.

> Примечания:
> - `.autorelabel` - файл, позволяющий SELinux обновить метки всех файлов в этой системе на правильные контексты [подробнее](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/security-enhanced_linux/sect-security-enhanced_linux-working_with_selinux-selinux_contexts_labeling_files).
> - выставление параметра загрузки `rd.break`, останавливает процедуру загрузки, пока она еще находится в стадии initramfs (начальная файловая система в оперативной памяти).

Способ 3. rw init=/sysroot/bin/sh
- Во время отображения меню GRUB, нажать клавишу `e`, тем самым перейдя в режим редактирования параметров загрузки.
- В строке, начинающейся с `linux16`, заменить `ro` на ` rw init=/sysroot/bin/sh`, нажать `ctrl+x` и дождаться приглашения ко вводу команд интерпретатора.
- Система будет загружена в аварийном (emergency) режиме (с минимальным окружением).
- Для смены пароля необходимо:
  - выполнить операцию изменения корневого каталога `chroot /sysroot`;
  - изменить пароль `passwd root`;
  - создать файл 'touch /.autorelabel'.

### Установить систему с LVM, после чего переименовать VG.




### Добавить модуль в initrd.
